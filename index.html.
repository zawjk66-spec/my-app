<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Study Way 2</title>

<style>
:root{
  --bg:#0b1f33;
  --card:#ffffff;
  --main:#0a58ca;
  --text:#ffffff;
}

body{
  margin:0;
  font-family:Arial;
  background:var(--bg);
  color:var(--text);
  overflow:hidden;
}

.header{
  background:var(--main);
  padding:15px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:bold;
}

/* Ø³Ø§Ø¹Ø© Ø­Ø¯ÙŠØ«Ø© */
.clock{
  text-align:center;
  font-size:28px;
  font-weight:bold;
  margin:15px 0;
  letter-spacing:2px;
}

.subclock{
  font-size:14px;
  opacity:.8;
}

.container{
  padding:15px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
}

.card{
  background:var(--card);
  color:#000;
  border-radius:16px;
  padding:30px 10px;
  text-align:center;
  box-shadow:0 6px 15px rgba(0,0,0,0.4);
  cursor:pointer;
  font-size:18px;
}

.page{
  display:none;
  padding:15px;
}

textarea,input,button{
  width:100%;
  padding:10px;
  margin-top:10px;
  border-radius:8px;
  border:1px solid #ccc;
}

button{
  background:var(--main);
  color:white;
  border:none;
  cursor:pointer;
}

.item{
  background:var(--card);
  color:#000;
  padding:10px;
  margin-top:10px;
  border-radius:10px;
  position:relative;
}

.delete{
  position:absolute;
  top:5px;
  left:5px;
  background:#c0392b;
  color:white;
  border:none;
  padding:4px 6px;
  border-radius:6px;
}

/* Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ÙØµÙ„ */
.battle{
  background:linear-gradient(135deg,#ff5722,#ff9800);
  padding:20px;
  border-radius:18px;
  color:white;
  text-align:center;
  margin-top:15px;
  box-shadow:0 0 20px rgba(0,0,0,.4);
}

.countdown{
  font-size:22px;
  font-weight:bold;
  margin-top:10px;
}

/* Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª */
.effect{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
}

.particle{
  position:absolute;
  animation:fall linear infinite;
}

@keyframes fall{
  from{transform:translateY(-20px);}
  to{transform:translateY(110vh);}
}

/* Ù†Ø§Ø± Ø§Ø­ØªØ±Ø§ÙÙŠØ© */
.flame{
  width:10px;
  height:26px;
  background:radial-gradient(circle at 50% 80%,
    #fff176 0%,
    #ff9800 40%,
    #ff5722 65%,
    #b71c1c 100%);
  border-radius:50% 50% 60% 60%;
  box-shadow:0 0 30px rgba(255,80,0,.9);
  animation:fall linear infinite, flicker .25s infinite alternate;
}

@keyframes flicker{
  from{transform:scale(1);}
  to{transform:scale(1.25);}
}

.snow{
  color:white;
  font-size:14px;
}
</style>
</head>

<body>

<div class="effect" id="effect"></div>

<div class="header">
  <span onclick="home()">â¬…ï¸</span>
  <span>ğŸ“˜ Study Way 2</span>
  <span onclick="settings()">âš™ï¸</span>
</div>

<!-- Ø§Ù„Ø³Ø§Ø¹Ø© -->
<div class="clock" id="clock">00:00:00
  <div class="subclock" id="date"></div>
</div>

<!-- Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div id="home" class="container">
  <div class="card" onclick="openProgram()">ğŸ’» Ø§Ù„ØªØ®Ø·ÙŠØ·</div>
  <div class="card" onclick="openApp()">ğŸ“± Ø§Ù„ØªÙ†ÙÙŠØ°</div>
</div>

<!-- Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ÙØµÙ„ -->
<div class="battle">
  âš”ï¸ Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ÙØµÙ„ <br>
  ØªØ¬Ù‡Ø² Ù„Ù„ÙØµÙ„ Ù…Ø¹ Ø£Ù‚ÙˆÙ‰ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ø¯Ù„ Ù…Ù…ØªØ§Ø² ğŸ’ª
  <div class="countdown" id="countdown"></div>
</div>

<!-- Ø§Ù„ØªØ®Ø·ÙŠØ· -->
<div id="program" class="page">
  <h3>ğŸ§  Ø§Ù„Ø®Ø·Ø·</h3>
  <input id="planText" placeholder="âœï¸ Ø§Ø³Ù… Ø§Ù„Ø®Ø·Ø©">
  <input type="time" id="planTime">
  <button onclick="addPlan()">â• Ø¥Ø¶Ø§ÙØ© Ø®Ø·Ø©</button>
  <div id="plans"></div>
</div>

<!-- Ø§Ù„ØªÙ†ÙÙŠØ° -->
<div id="app" class="page">
  <h3>âœ… Ù…Ø§ ØªÙ… ØªØ·Ø¨ÙŠÙ‚Ù‡</h3>
  <textarea id="doneText" placeholder="ğŸ“Œ Ù…Ø§Ø°Ø§ Ø£Ù†Ø¬Ø²Øª Ø§Ù„ÙŠÙˆÙ…ØŸ"></textarea>
  <button onclick="addDone()">ğŸ’¾ ØªØ³Ø¬ÙŠÙ„</button>
  <div id="doneList"></div>
</div>

<!-- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
<div id="settings" class="page">
  <h3>ğŸ¨ Ø§Ù„Ø³Ù…Ø§Øª</h3>
  <button onclick="theme('fire')">ğŸ”¥ Ù†Ø§Ø±ÙŠ</button>
  <button onclick="theme('ice')">â„ï¸ Ø«Ù„Ø¬ÙŠ</button>
  <button onclick="theme('gold')">ğŸŸ¨ Ø°Ù‡Ø¨ÙŠ</button>
  <button onclick="theme('green')">ğŸŸ¢ Ø£Ø®Ø¶Ø±</button>
</div>

<script>
const pages=["home","program","app","settings"];
let currentTheme="";

function show(id){
  pages.forEach(p=>document.getElementById(p).style.display="none");
  document.getElementById(id).style.display=id==="home"?"grid":"block";
}
function home(){show("home")}
function openProgram(){show("program")}
function openApp(){show("app")}
function settings(){show("settings")}

/* Ø³Ø§Ø¹Ø© */
function updateClock(){
  const now=new Date();
  clock.textContent=now.toLocaleTimeString();
  date.textContent=now.toLocaleDateString("ar-DZ",
    {weekday:"long",year:"numeric",month:"long",day:"numeric"});
}
setInterval(updateClock,1000);
updateClock();

/* Ø¹Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠ Ù„ 7 Ø¬Ø§Ù†ÙÙŠ Ø§Ù„Ù‚Ø§Ø¯Ù… */
function updateCountdown(){
  const now=new Date();
  let target=new Date(now.getFullYear(),0,7);
  if(now>target) target=new Date(now.getFullYear()+1,0,7);

  const diff=target-now;
  const d=Math.floor(diff/86400000);
  const h=Math.floor(diff%86400000/3600000);
  const m=Math.floor(diff%3600000/60000);

  countdown.textContent=`â³ ${d} ÙŠÙˆÙ… ${h} Ø³Ø§Ø¹Ø© ${m} Ø¯Ù‚ÙŠÙ‚Ø©`;
}
setInterval(updateCountdown,1000);
updateCountdown();

/* Ø®Ø·Ø· + Ù…Ù†Ø¨Ù‡ */
function addPlan(){
  if(!planText.value || !planTime.value) return;
  const id=Date.now();
  plans.innerHTML+=`
    <div class="item" id="p${id}">
      <button class="delete" onclick="this.parentElement.remove()">Ø­Ø°Ù</button>
      ğŸ“Œ ${planText.value}<br>â° ${planTime.value}
    </div>`;
  setAlarm(planTime.value,planText.value);
  planText.value=""; planTime.value="";
}

function setAlarm(time,text){
  const now=new Date();
  const [h,m]=time.split(":");
  const alarm=new Date();
  alarm.setHours(h,m,0,0);
  if(alarm<now) alarm.setDate(alarm.getDate()+1);
  setTimeout(()=>alert("â° Ø­Ø§Ù† ÙˆÙ‚Øª: "+text),alarm-now);
}

function addDone(){
  if(!doneText.value) return;
  doneList.innerHTML+=`
    <div class="item">
      <button class="delete" onclick="this.parentElement.remove()">Ø­Ø°Ù</button>
      ${doneText.value}
    </div>`;
  doneText.value="";
}

/* Ø§Ù„Ø³Ù…Ø§Øª */
function theme(t){
  effect.innerHTML="";
  currentTheme=t;
  if(t==="fire"){set("#2b0b0b","#ff5722");fireRain();}
  if(t==="ice"){set("#0b1f33","#1e88e5");snowRain();}
  if(t==="gold"){set("#1c1c1c","#d4af37");}
  if(t==="green"){set("#0f2f1f","#2ecc71");}
}
function set(bg,main){
  document.documentElement.style.setProperty("--bg",bg);
  document.documentElement.style.setProperty("--main",main);
}
function fireRain(){
  for(let i=0;i<35;i++){
    let f=document.createElement("div");
    f.className="particle flame";
    f.style.left=Math.random()*100+"%";
    f.style.animationDuration=(2+Math.random()*2)+"s";
    effect.appendChild(f);
  }
}
function snowRain(){
  for(let i=0;i<25;i++){
    let s=document.createElement("div");
    s.className="particle snow";
    s.textContent="â„ï¸";
    s.style.left=Math.random()*100+"%";
    s.style.animationDuration=(4+Math.random()*3)+"s";
    effect.appendChild(s);
  }
}
</script>

</body>
  </html>
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>
