<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Study Way</title>

<style>
:root{
  --bg:#0d1b2a;
  --card:#1b263b;
  --text:#ffffff;
  --btn:#2196f3;
}
.light{
  --bg:#f5f9ff;
  --card:#ffffff;
  --text:#000;
  --btn:#1e88e5;
}

body{
  margin:0;
  font-family:Arial;
  background:var(--bg);
  color:var(--text);
  direction:rtl;
  transition:0.3s;
}

.container{
  max-width:420px;
  margin:auto;
  padding:20px;
}

/* ===== Ø«Ù„Ø¬ ===== */
.snow{
  position:fixed;
  top:-10px;
  color:white;
  font-size:14px;
  animation: fall linear infinite;
}
@keyframes fall{
  to{transform:translateY(100vh);}
}

/* ===== Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ===== */
.app-title{
  text-align:center;
}
.app-title h1{
  font-size:36px;
  color:#4fc3f7;
}
.app-title a{
  color:#90caf9;
  font-size:14px;
  text-decoration:none;
}

/* Ø²Ø± Ù„ÙŠÙ„ÙŠ */
.toggle{
  margin:10px auto;
  display:block;
  background:#0bbcd6;
  color:white;
  border:none;
  padding:8px 14px;
  border-radius:20px;
  cursor:pointer;
}

/* ===== Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„Ø§Øª ===== */
input, textarea{
  width:100%;
  padding:10px;
  margin-top:10px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:14px;
}

textarea{min-height:100px;}

button.save{
  background:var(--btn);
  color:white;
  border:none;
  padding:8px;
  width:120px;
  border-radius:8px;
  margin-top:12px;
  cursor:pointer;
}

.card{
  background:var(--card);
  padding:15px;
  border-radius:12px;
  margin-top:15px;
}

.delete{
  background:#e53935;
  color:white;
  border:none;
  padding:6px;
  border-radius:6px;
  margin-top:6px;
}

hr{border:1px solid #ccc;margin:20px 0;}
</style>
</head>

<body>

<div class="container">

  <div class="app-title">
    <h1>Study Way</h1>
    <a href="https://sites.google.com/view/studywayschool" target="_blank">
      sites.google.com/view/studywayschool
    </a>
  </div>

  <button class="toggle" onclick="iceBurst(event); toggleTheme()">ğŸŒ™ / â˜€ï¸</button>

  <div class="card">
    <h3>âœï¸ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø®Øµ</h3>
    <input id="subject" placeholder="Ø§Ù„Ù…Ø§Ø¯Ø©">
    <input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø®Øµ">
    <textarea id="content" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù„Ø®Øµ"></textarea>
    <button class="save" onclick="iceBurst(event); addSummary()">Ø­ÙØ¸</button>
  </div>

  <hr>

  <input id="search" placeholder="Ø¨Ø­Ø«" oninput="render()">
  <div id="list"></div>
</div>

<script>
/* ===== Ø«Ù„Ø¬ Ù†Ø§Ø²Ù„ ===== */
for(let i=0;i<25;i++){
  let s=document.createElement("div");
  s.innerHTML="â„ï¸";
  s.className="snow";
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=3+Math.random()*5+"s";
  s.style.opacity=Math.random();
  document.body.appendChild(s);
}

/* ===== ØªØ·Ø§ÙŠØ± Ø§Ù„Ø¬Ù„ÙŠØ¯ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· ===== */
function iceBurst(e){
  for(let i=0;i<16;i++){
    const ice=document.createElement("span");
    ice.innerHTML="â„ï¸";
    ice.style.position="fixed";
    ice.style.left=e.clientX+"px";
    ice.style.top=e.clientY+"px";
    ice.style.pointerEvents="none";
    ice.style.fontSize="14px";
    ice.style.transition="0.8s";
    document.body.appendChild(ice);

    const x=(Math.random()-0.5)*160;
    const y=(Math.random()-1)*160;

    setTimeout(()=>{
      ice.style.transform=`translate(${x}px,${y}px)`;
      ice.style.opacity=0;
    },10);

    setTimeout(()=>ice.remove(),800);
  }
}

/* ===== Ù„ÙŠÙ„ÙŠ ===== */
function toggleTheme(){
  document.body.classList.toggle("light");
}

/* ===== Ù…Ù„Ø®ØµØ§Øª ===== */
let summaries = JSON.parse(localStorage.getItem("summaries")) || [];
function save(){localStorage.setItem("summaries",JSON.stringify(summaries));}

function addSummary(){
  let s=subject.value.trim(),
      t=title.value.trim(),
      c=content.value.trim();
  if(!s||!t||!c) return alert("Ø¹Ù…Ø± Ø§Ù„ÙƒÙ„");
  summaries.unshift({s,t,c});
  save(); subject.value=title.value=content.value="";
  render();
}

function removeSummary(i){
  summaries.splice(i,1); save(); render();
}

function render(){
  list.innerHTML="";
  let q=search.value.toLowerCase();
  summaries.forEach((x,i)=>{
    if(x.s.toLowerCase().includes(q)||x.t.toLowerCase().includes(q)){
      list.innerHTML+=`
      <div class="card">
        <b>${x.s}</b>
        <h4>${x.t}</h4>
        <p>${x.c}</p>
        <button class="delete" onclick="iceBurst(event); removeSummary(${i})">Ø­Ø°Ù</button>
      </div>`;
    }
  });
}
render();
</script>

</body>
</html>
